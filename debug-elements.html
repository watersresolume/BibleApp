<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Elements</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            background: #1a1a1a;
            color: #e0e0e0;
            font-family: 'Inter', sans-serif;
            padding: 20px;
        }
        .debug-info {
            background: #333;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Upper Toolbar -->
        <div class="toolbar">
            <div class="toolbar-left">
                <div class="browser-tabs">
                    <div class="tab-bar">
                        <!-- Tabs will be created dynamically by JavaScript -->
                    </div>
                    <button class="new-tab-btn" id="newTabBtn">+</button>
                </div>
            </div>
            
            <div class="toolbar-right">
                <div class="tool-slider" id="toolSlider">
                    <div class="tool-wrapper">
                        <button class="tool-icon selected" data-tool="pen" id="penToolBtn"><i class="fas fa-pen"></i></button>
                        <div class="pen-color-dropdown" id="penColorDropdown">
                            <button class="pen-color-option" style="--pen-color: #fefefe;" data-color="#fefefe" title="White">&nbsp;</button>
                            <button class="pen-color-option" style="--pen-color: #ff3333;" data-color="#ff3333" title="Red">&nbsp;</button>
                            <button class="pen-color-option" style="--pen-color: #0090ff;" data-color="#0090ff" title="Blue">&nbsp;</button>
                            <button class="pen-color-option" style="--pen-color: #00ff00;" data-color="#00ff00" title="Green">&nbsp;</button>
                            <button class="pen-color-option" style="--pen-color: #ffff00;" data-color="#ffff00" title="Yellow">&nbsp;</button>
                            <div class="advanced-arrow" data-tool="pen">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                        <div class="size-slider-popup" id="penSizeSliderPopup">
                            <input type="range" min="2" max="40" step="1" value="4" class="size-slider" id="penSizeSlider">
                        </div>
                    </div>
                    <div class="tool-wrapper">
                        <button class="tool-icon" data-tool="highlight" id="highlightToolBtn"><i class="fas fa-highlighter"></i></button>
                        <div class="highlighter-color-dropdown" id="highlighterColorDropdown">
                            <button class="highlighter-color-option" style="--highlighter-color: #fefefe;" data-color="#fefefe" title="White">&nbsp;</button>
                            <button class="highlighter-color-option" style="--highlighter-color: #ff3333;" data-color="#ff3333" title="Red">&nbsp;</button>
                            <button class="highlighter-color-option" style="--highlighter-color: #0090ff;" data-color="#0090ff" title="Blue">&nbsp;</button>
                            <button class="highlighter-color-option" style="--highlighter-color: #00ff00;" data-color="#00ff00" title="Green">&nbsp;</button>
                            <button class="highlighter-color-option" style="--highlighter-color: #ffff00;" data-color="#ffff00" title="Yellow">&nbsp;</button>
                            <div class="advanced-arrow" data-tool="highlight">
                                <i class="fas fa-chevron-down"></i>
                            </div>
                        </div>
                    </div>
                    <button class="tool-icon" data-tool="erase"><i class="fas fa-eraser"></i></button>
                </div>
                <button class="toolbar-btn" id="undoBtn" title="Undo" tabindex="-1">
                    <i class="fas fa-undo"></i>
                </button>
                <button class="toolbar-btn" id="redoBtn" title="Redo" tabindex="-1">
                    <i class="fas fa-redo"></i>
                </button>
                <button class="toolbar-btn" id="resetBtn" title="Clear All" tabindex="-1">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </div>
        
        <!-- Tab Content Panels -->
        <div class="tab-content">
            <!-- Tab panels will be created dynamically by JavaScript -->
        </div>
    </div>
    
    <div class="debug-info" id="debugInfo">Loading...</div>
    
    <script>
        function debugElements() {
            const debugInfo = document.getElementById('debugInfo');
            
            // Check if elements exist
            const penBtn = document.getElementById('penToolBtn');
            const highlightBtn = document.getElementById('highlightToolBtn');
            const penColorDropdown = document.getElementById('penColorDropdown');
            const highlighterColorDropdown = document.getElementById('highlighterColorDropdown');
            const penSizeSliderPopup = document.getElementById('penSizeSliderPopup');
            const penSizeSlider = document.getElementById('penSizeSlider');
            
            debugInfo.innerHTML = `
                <strong>Element Check:</strong><br>
                penBtn: ${penBtn ? 'FOUND' : 'NOT FOUND'}<br>
                highlightBtn: ${highlightBtn ? 'FOUND' : 'NOT FOUND'}<br>
                penColorDropdown: ${penColorDropdown ? 'FOUND' : 'NOT FOUND'}<br>
                highlighterColorDropdown: ${highlighterColorDropdown ? 'FOUND' : 'NOT FOUND'}<br>
                penSizeSliderPopup: ${penSizeSliderPopup ? 'FOUND' : 'NOT FOUND'}<br>
                penSizeSlider: ${penSizeSlider ? 'FOUND' : 'NOT FOUND'}<br>
                <br>
                <strong>Element Details:</strong><br>
                penBtn: ${penBtn ? penBtn.outerHTML.substring(0, 100) + '...' : 'null'}<br>
                penColorDropdown: ${penColorDropdown ? penColorDropdown.outerHTML.substring(0, 100) + '...' : 'null'}<br>
                <br>
                <strong>CSS Classes:</strong><br>
                penColorDropdown classes: ${penColorDropdown ? penColorDropdown.className : 'null'}<br>
                highlighterColorDropdown classes: ${highlighterColorDropdown ? highlighterColorDropdown.className : 'null'}<br>
                <br>
                <strong>CSS Styles:</strong><br>
                penColorDropdown display: ${penColorDropdown ? window.getComputedStyle(penColorDropdown).display : 'null'}<br>
                penColorDropdown visibility: ${penColorDropdown ? window.getComputedStyle(penColorDropdown).visibility : 'null'}<br>
                penColorDropdown opacity: ${penColorDropdown ? window.getComputedStyle(penColorDropdown).opacity : 'null'}<br>
                penColorDropdown transform: ${penColorDropdown ? window.getComputedStyle(penColorDropdown).transform : 'null'}<br>
                penColorDropdown position: ${penColorDropdown ? window.getComputedStyle(penColorDropdown).position : 'null'}<br>
                penColorDropdown top: ${penColorDropdown ? window.getComputedStyle(penColorDropdown).top : 'null'}<br>
                penColorDropdown left: ${penColorDropdown ? window.getComputedStyle(penColorDropdown).left : 'null'}<br>
                penColorDropdown z-index: ${penColorDropdown ? window.getComputedStyle(penColorDropdown).zIndex : 'null'}<br>
                penColorDropdown pointer-events: ${penColorDropdown ? window.getComputedStyle(penColorDropdown).pointerEvents : 'null'}<br>
            `;
        }
        
        // Check elements at different times
        debugElements();
        
        setTimeout(debugElements, 100);
        setTimeout(debugElements, 500);
        setTimeout(debugElements, 1000);
        
        // Add click handlers to test
        const penBtn = document.getElementById('penToolBtn');
        const highlightBtn = document.getElementById('highlightToolBtn');
        const penColorDropdown = document.getElementById('penColorDropdown');
        const highlighterColorDropdown = document.getElementById('highlighterColorDropdown');
        
        if (penBtn) {
            penBtn.addEventListener('click', () => {
                console.log('Pen button clicked');
                if (penColorDropdown) {
                    penColorDropdown.classList.toggle('show');
                    console.log('Pen dropdown classes after toggle:', penColorDropdown.className);
                    debugElements();
                }
            });
        }
        
        if (highlightBtn) {
            highlightBtn.addEventListener('click', () => {
                console.log('Highlight button clicked');
                if (highlighterColorDropdown) {
                    highlighterColorDropdown.classList.toggle('show');
                    console.log('Highlight dropdown classes after toggle:', highlighterColorDropdown.className);
                    debugElements();
                }
            });
        }
    </script>
</body>
</html> 